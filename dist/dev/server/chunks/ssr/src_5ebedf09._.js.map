{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/shamir/Desktop/Zaam/ms-zaam-technologies-smart-match-mate-web/src/components/chat/ChatBox.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useRef } from 'react';\nimport { List, Avatar, Badge, Typography, Input, Button, Space, Empty } from 'antd';\nimport { SendOutlined, SearchOutlined } from '@ant-design/icons';\n\nconst { Text, Title } = Typography;\nconst { TextArea } = Input;\n\ninterface Message {\n  id: string;\n  content: string;\n  timestamp: Date;\n  senderId: string;\n  type: 'text' | 'image';\n}\n\ninterface Conversation {\n  id: string;\n  matchId: string;\n  matchName: string;\n  matchAvatar: string;\n  lastMessage?: Message;\n  unreadCount: number;\n  isOnline: boolean;\n  lastSeen?: Date;\n}\n\ninterface ChatBoxProps {\n  conversation?: Conversation;\n  messages: Message[];\n  currentUserId: string;\n  onSendMessage: (content: string) => void;\n  onTyping?: () => void;\n  isTyping?: boolean;\n}\n\nexport default function ChatBox({ \n  conversation, \n  messages, \n  currentUserId, \n  onSendMessage,\n  onTyping,\n  isTyping = false\n}: ChatBoxProps) {\n  const [messageText, setMessageText] = useState('');\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  React.useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const handleSend = () => {\n    if (!messageText.trim()) return;\n    onSendMessage(messageText.trim());\n    setMessageText('');\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setMessageText(e.target.value);\n    onTyping?.();\n  };\n\n  if (!conversation) {\n    return (\n      <div style={{ \n        height: '100%', \n        display: 'flex', \n        alignItems: 'center', \n        justifyContent: 'center',\n        flexDirection: 'column',\n        padding: 40\n      }}>\n        <Empty\n          description={\n            <div>\n              <Title level={4} type=\"secondary\">Select a match to start chatting</Title>\n              <Text type=\"secondary\">\n                Choose someone from your matches to begin a conversation\n              </Text>\n            </div>\n          }\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ \n      height: '100%', \n      display: 'flex', \n      flexDirection: 'column',\n      border: '1px solid #f0f0f0',\n      borderRadius: 8\n    }}>\n      {/* Chat Header */}\n      <div style={{\n        padding: '16px 20px',\n        borderBottom: '1px solid #f0f0f0',\n        backgroundColor: '#fafafa',\n        borderRadius: '8px 8px 0 0'\n      }}>\n        <Space>\n          <Badge dot={conversation.isOnline} offset={[-8, 8]}>\n            <Avatar \n              src={conversation.matchAvatar} \n              size={40}\n              style={{ backgroundColor: '#FF3A8A' }}\n            >\n              {conversation.matchName[0]}\n            </Avatar>\n          </Badge>\n          <div>\n            <Title level={5} style={{ margin: 0 }}>\n              {conversation.matchName}\n            </Title>\n            <Text type=\"secondary\" style={{ fontSize: 12 }}>\n              {conversation.isOnline ? (\n                isTyping ? 'typing...' : 'online'\n              ) : (\n                conversation.lastSeen ? \n                `last seen ${new Date(conversation.lastSeen).toLocaleTimeString()}` : \n                'offline'\n              )}\n            </Text>\n          </div>\n        </Space>\n      </div>\n\n      {/* Messages Area */}\n      <div style={{\n        flex: 1,\n        padding: 20,\n        overflowY: 'auto',\n        backgroundColor: '#fff'\n      }}>\n        {messages.length === 0 ? (\n          <div style={{ \n            textAlign: 'center', \n            padding: 40,\n            color: '#999'\n          }}>\n            <Title level={4} type=\"secondary\">\n              üëã Say hello to {conversation.matchName}!\n            </Title>\n            <Text type=\"secondary\">\n              This is the beginning of your conversation\n            </Text>\n          </div>\n        ) : (\n          <>\n            {messages.map((message, index) => {\n              const isOwn = message.senderId === currentUserId;\n              const showTime = index === 0 || \n                new Date(message.timestamp).getTime() - new Date(messages[index - 1].timestamp).getTime() > 300000; // 5 minutes\n\n              return (\n                <div key={message.id}>\n                  {showTime && (\n                    <div style={{\n                      textAlign: 'center',\n                      margin: '20px 0 10px',\n                      color: '#999',\n                      fontSize: 12\n                    }}>\n                      {new Date(message.timestamp).toLocaleString()}\n                    </div>\n                  )}\n                  <div\n                    style={{\n                      display: 'flex',\n                      justifyContent: isOwn ? 'flex-end' : 'flex-start',\n                      marginBottom: 8,\n                      alignItems: 'flex-end'\n                    }}\n                  >\n                    {!isOwn && (\n                      <Avatar \n                        src={conversation.matchAvatar} \n                        size={24}\n                        style={{ marginRight: 8, backgroundColor: '#FF3A8A' }}\n                      >\n                        {conversation.matchName[0]}\n                      </Avatar>\n                    )}\n                    <div\n                      style={{\n                        maxWidth: '70%',\n                        padding: '8px 12px',\n                        borderRadius: 18,\n                        backgroundColor: isOwn ? '#FF3A8A' : '#f0f0f0',\n                        color: isOwn ? 'white' : 'black',\n                        wordWrap: 'break-word'\n                      }}\n                    >\n                      {message.content}\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n            <div ref={messagesEndRef} />\n          </>\n        )}\n      </div>\n\n      {/* Input Area */}\n      <div style={{\n        padding: 20,\n        borderTop: '1px solid #f0f0f0',\n        backgroundColor: '#fafafa',\n        borderRadius: '0 0 8px 8px'\n      }}>\n        <Space.Compact style={{ width: '100%' }}>\n          <TextArea\n            value={messageText}\n            onChange={handleInputChange}\n            onKeyDown={handleKeyPress}\n            placeholder={`Message ${conversation.matchName}...`}\n            autoSize={{ minRows: 1, maxRows: 4 }}\n            style={{ \n              borderRadius: '20px 0 0 20px',\n              resize: 'none'\n            }}\n          />\n          <Button\n            type=\"primary\"\n            icon={<SendOutlined />}\n            onClick={handleSend}\n            disabled={!messageText.trim()}\n            style={{\n              height: 'auto',\n              minHeight: 32,\n              borderRadius: '0 20px 20px 0',\n              backgroundColor: '#FF3A8A',\n              borderColor: '#FF3A8A'\n            }}\n          />\n        </Space.Compact>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 378, "column": 0}, "map": {"version":3,"sources":["file:///home/shamir/Desktop/Zaam/ms-zaam-technologies-smart-match-mate-web/src/components/matches/MatchList.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { List, Avatar, Badge, Typography, Input, Empty, Space, Tag } from 'antd';\nimport { SearchOutlined, MessageOutlined, HeartOutlined } from '@ant-design/icons';\n\nconst { Text, Title } = Typography;\nconst { Search } = Input;\n\ninterface Match {\n  id: string;\n  name: string;\n  avatar: string;\n  age: number;\n  distance: number;\n  lastMessage?: {\n    content: string;\n    timestamp: Date;\n    isRead: boolean;\n  };\n  unreadCount: number;\n  isOnline: boolean;\n  matchDate: Date;\n  isNewMatch: boolean;\n}\n\ninterface MatchListProps {\n  matches: Match[];\n  onSelectMatch: (matchId: string) => void;\n  selectedMatchId?: string;\n}\n\nexport default function MatchList({ matches, onSelectMatch, selectedMatchId }: MatchListProps) {\n  const [searchText, setSearchText] = useState('');\n\n  const filteredMatches = matches.filter(match =>\n    match.name.toLowerCase().includes(searchText.toLowerCase())\n  );\n\n  const newMatches = filteredMatches.filter(match => match.isNewMatch);\n  const existingMatches = filteredMatches.filter(match => !match.isNewMatch);\n\n  const formatMessageTime = (timestamp: Date) => {\n    const now = new Date();\n    const diff = now.getTime() - timestamp.getTime();\n    const minutes = Math.floor(diff / 60000);\n    const hours = Math.floor(minutes / 60);\n    const days = Math.floor(hours / 24);\n\n    if (minutes < 1) return 'now';\n    if (minutes < 60) return `${minutes}m`;\n    if (hours < 24) return `${hours}h`;\n    if (days < 7) return `${days}d`;\n    return timestamp.toLocaleDateString();\n  };\n\n  const renderMatchItem = (match: Match) => (\n    <List.Item\n      key={match.id}\n      onClick={() => onSelectMatch(match.id)}\n      style={{\n        padding: '12px 16px',\n        cursor: 'pointer',\n        backgroundColor: selectedMatchId === match.id ? '#f6ffed' : 'transparent',\n        borderLeft: selectedMatchId === match.id ? '3px solid #FF3A8A' : '3px solid transparent',\n        transition: 'all 0.2s ease'\n      }}\n      className=\"match-item\"\n    >\n      <List.Item.Meta\n        avatar={\n          <Badge dot={match.isOnline} offset={[-8, 8]}>\n            <Avatar \n              src={match.avatar} \n              size={48}\n              style={{ backgroundColor: '#FF3A8A' }}\n            >\n              {match.name[0]}\n            </Avatar>\n          </Badge>\n        }\n        title={\n          <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n            <Space>\n              <Text strong style={{ fontSize: 16 }}>\n                {match.name}\n              </Text>\n              {match.isNewMatch && (\n                <Tag color=\"pink\" style={{ margin: 0, fontSize: 10 }}>\n                  NEW\n                </Tag>\n              )}\n            </Space>\n            {match.unreadCount > 0 && (\n              <Badge \n                count={match.unreadCount} \n                size=\"small\"\n                style={{ backgroundColor: '#FF3A8A' }}\n              />\n            )}\n          </div>\n        }\n        description={\n          <div>\n            {match.lastMessage ? (\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                <Text \n                  type={match.lastMessage.isRead ? 'secondary' : undefined}\n                  style={{ \n                    fontSize: 13,\n                    maxWidth: '150px',\n                    overflow: 'hidden',\n                    textOverflow: 'ellipsis',\n                    whiteSpace: 'nowrap'\n                  }}\n                >\n                  {match.lastMessage.content}\n                </Text>\n                <Text type=\"secondary\" style={{ fontSize: 12 }}>\n                  {formatMessageTime(match.lastMessage.timestamp)}\n                </Text>\n              </div>\n            ) : (\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                <Text type=\"secondary\" style={{ fontSize: 13 }}>\n                  {match.distance}km away ‚Ä¢ Start a conversation\n                </Text>\n                <Text type=\"secondary\" style={{ fontSize: 12 }}>\n                  {formatMessageTime(match.matchDate)}\n                </Text>\n              </div>\n            )}\n          </div>\n        }\n      />\n    </List.Item>\n  );\n\n  if (matches.length === 0) {\n    return (\n      <div style={{ \n        padding: 40, \n        textAlign: 'center',\n        height: '100%',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexDirection: 'column'\n      }}>\n        <Empty\n          image={<HeartOutlined style={{ fontSize: 64, color: '#FF3A8A' }} />}\n          description={\n            <div>\n              <Title level={4} type=\"secondary\">No matches yet</Title>\n              <Text type=\"secondary\">\n                Start swiping to find your matches!\n              </Text>\n            </div>\n          }\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\n      {/* Header */}\n      <div style={{ \n        padding: '20px 16px 16px',\n        borderBottom: '1px solid #f0f0f0',\n        backgroundColor: '#fafafa'\n      }}>\n        <Title level={4} style={{ margin: '0 0 16px 0' }}>\n          Matches ({matches.length})\n        </Title>\n        <Search\n          placeholder=\"Search matches...\"\n          value={searchText}\n          onChange={(e) => setSearchText(e.target.value)}\n          prefix={<SearchOutlined />}\n          style={{ borderRadius: 20 }}\n        />\n      </div>\n\n      {/* Matches List */}\n      <div style={{ flex: 1, overflowY: 'auto' }}>\n        {newMatches.length > 0 && (\n          <>\n            <div style={{ \n              padding: '16px 16px 8px',\n              backgroundColor: '#fff2f0',\n              borderBottom: '1px solid #ffd6cc'\n            }}>\n              <Text strong style={{ color: '#FF3A8A' }}>\n                üéâ New Matches ({newMatches.length})\n              </Text>\n            </div>\n            <List\n              dataSource={newMatches}\n              renderItem={renderMatchItem}\n              split={false}\n            />\n          </>\n        )}\n\n        {existingMatches.length > 0 && (\n          <>\n            {newMatches.length > 0 && (\n              <div style={{ \n                padding: '16px 16px 8px',\n                backgroundColor: '#fafafa',\n                borderBottom: '1px solid #f0f0f0'\n              }}>\n                <Text strong type=\"secondary\">\n                  <MessageOutlined /> Messages\n                </Text>\n              </div>\n            )}\n            <List\n              dataSource={existingMatches}\n              renderItem={renderMatchItem}\n              split={false}\n            />\n          </>\n        )}\n\n        {filteredMatches.length === 0 && searchText && (\n          <div style={{ \n            padding: 40, \n            textAlign: 'center'\n          }}>\n            <Empty\n              description={`No matches found for \"${searchText}\"`}\n            />\n          </div>\n        )}\n      </div>\n\n      <style jsx>{`\n        .match-item:hover {\n          background-color: #f5f5f5 !important;\n        }\n      `}</style>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 841, "column": 0}, "map": {"version":3,"sources":["file:///home/shamir/Desktop/Zaam/ms-zaam-technologies-smart-match-mate-web/src/app/%28authenticated%29/chat/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { Row, Col, message } from 'antd';\nimport ChatBox from '../../../components/chat/ChatBox';\nimport MatchList from '../../../components/matches/MatchList';\n\ninterface Message {\n  id: string;\n  content: string;\n  timestamp: Date;\n  senderId: string;\n  type: 'text' | 'image';\n}\n\ninterface Conversation {\n  id: string;\n  matchId: string;\n  matchName: string;\n  matchAvatar: string;\n  lastMessage?: Message;\n  unreadCount: number;\n  isOnline: boolean;\n  lastSeen?: Date;\n}\n\ninterface Match {\n  id: string;\n  name: string;\n  avatar: string;\n  age: number;\n  distance: number;\n  lastMessage?: {\n    content: string;\n    timestamp: Date;\n    isRead: boolean;\n  };\n  unreadCount: number;\n  isOnline: boolean;\n  matchDate: Date;\n  isNewMatch: boolean;\n  lastSeen?: Date;\n}\n\n// Mock data\nconst mockMatches: Match[] = [\n  {\n    id: '1',\n    name: 'Sarah',\n    avatar: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?w=100&h=100&fit=crop',\n    age: 25,\n    distance: 2,\n    lastMessage: {\n      content: 'Hey! How was your day?',\n      timestamp: new Date(Date.now() - 30 * 60 * 1000),\n      isRead: false\n    },\n    unreadCount: 2,\n    isOnline: true,\n    matchDate: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000),\n    isNewMatch: false\n  },\n  {\n    id: '2',\n    name: 'Alex',\n    avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop',\n    age: 28,\n    distance: 5,\n    lastMessage: {\n      content: 'That restaurant was amazing! üòç',\n      timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000),\n      isRead: true\n    },\n    unreadCount: 0,\n    isOnline: false,\n    lastSeen: new Date(Date.now() - 1 * 60 * 60 * 1000),\n    matchDate: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000),\n    isNewMatch: false\n  },\n  {\n    id: '3',\n    name: 'Emma',\n    avatar: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop',\n    age: 23,\n    distance: 8,\n    unreadCount: 0,\n    isOnline: true,\n    matchDate: new Date(Date.now() - 1 * 60 * 60 * 1000),\n    isNewMatch: true\n  }\n];\n\nconst mockMessages: Record<string, Message[]> = {\n  '1': [\n    {\n      id: '1',\n      content: 'Hey there! üëã',\n      timestamp: new Date(Date.now() - 24 * 60 * 60 * 1000),\n      senderId: '1',\n      type: 'text'\n    },\n    {\n      id: '2',\n      content: 'Hi! Nice to match with you!',\n      timestamp: new Date(Date.now() - 23 * 60 * 60 * 1000),\n      senderId: 'current-user',\n      type: 'text'\n    },\n    {\n      id: '3',\n      content: 'How was your day?',\n      timestamp: new Date(Date.now() - 30 * 60 * 1000),\n      senderId: '1',\n      type: 'text'\n    },\n  ],\n  '2': [\n    {\n      id: '4',\n      content: 'That restaurant was amazing! üòç',\n      timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000),\n      senderId: '2',\n      type: 'text'\n    }\n  ],\n  '3': []\n};\n\nexport default function ChatPage() {\n  const [matches, setMatches] = useState<Match[]>(mockMatches);\n  const [messages, setMessages] = useState<Message[]>(mockMessages['1'] || []);\n  const [selectedMatchId, setSelectedMatchId] = useState<string>('1');\n  const [conversation, setConversation] = useState<Conversation | undefined>(() => {\n    const match = mockMatches[0];\n    return {\n      id: '1',\n      matchId: match.id,\n      matchName: match.name,\n      matchAvatar: match.avatar,\n      lastMessage: match.lastMessage ? {\n        id: 'last',\n        content: match.lastMessage.content,\n        timestamp: match.lastMessage.timestamp,\n        senderId: match.id,\n        type: 'text'\n      } : undefined,\n      unreadCount: match.unreadCount,\n      isOnline: match.isOnline,\n      lastSeen: match.lastSeen\n    };\n  });\n  const [isTyping, setIsTyping] = useState(false);\n\n  const currentUserId = 'current-user';\n\n  const handleSelectMatch = (matchId: string) => {\n    setSelectedMatchId(matchId);\n    \n    const match = matches.find(m => m.id === matchId);\n    if (match) {\n      setConversation({\n        id: matchId,\n        matchId: match.id,\n        matchName: match.name,\n        matchAvatar: match.avatar,\n        lastMessage: match.lastMessage ? {\n          id: 'last',\n          content: match.lastMessage.content,\n          timestamp: match.lastMessage.timestamp,\n          senderId: match.id,\n          type: 'text'\n        } : undefined,\n        unreadCount: match.unreadCount,\n        isOnline: match.isOnline,\n        lastSeen: match.lastSeen\n      });\n      \n      setMessages(mockMessages[matchId] || []);\n      \n      // Mark as read and no longer new\n      setMatches(prev => prev.map(m => \n        m.id === matchId ? { ...m, unreadCount: 0, isNewMatch: false } : m\n      ));\n    }\n  };\n\n  const handleSendMessage = (content: string) => {\n    if (!conversation) return;\n\n    const newMessage: Message = {\n      id: Date.now().toString(),\n      content,\n      timestamp: new Date(),\n      senderId: currentUserId,\n      type: 'text'\n    };\n\n    setMessages(prev => [...prev, newMessage]);\n    \n    // Update match last message\n    setMatches(prev => prev.map(match => \n      match.id === conversation.matchId \n        ? {\n            ...match,\n            lastMessage: {\n              content,\n              timestamp: new Date(),\n              isRead: true\n            }\n          }\n        : match\n    ));\n\n    message.success('Message sent!');\n\n    // Simulate response (in real app, this would come via WebSocket)\n    setTimeout(() => {\n      const responses = [\n        'That sounds great!',\n        'I agree! üòä',\n        'Tell me more!',\n        'Interesting!',\n        'Haha, nice!',\n        'What do you think about that?'\n      ];\n      \n      const responseMessage: Message = {\n        id: (Date.now() + 1).toString(),\n        content: responses[Math.floor(Math.random() * responses.length)],\n        timestamp: new Date(),\n        senderId: conversation.matchId,\n        type: 'text'\n      };\n\n      setMessages(prev => [...prev, responseMessage]);\n      \n      // Update match last message\n      setMatches(prev => prev.map(match => \n        match.id === conversation.matchId \n          ? {\n              ...match,\n              lastMessage: {\n                content: responseMessage.content,\n                timestamp: responseMessage.timestamp,\n                isRead: false\n              },\n              unreadCount: match.unreadCount + 1\n            }\n          : match\n      ));\n    }, 2000 + Math.random() * 3000);\n  };\n\n  const handleTyping = () => {\n    // Simulate typing indicator\n    setIsTyping(true);\n    setTimeout(() => setIsTyping(false), 3000);\n  };\n\n  return (\n    <div style={{ height: '100vh', backgroundColor: '#fafafa' }}>\n      <Row style={{ height: '100%' }}>\n        <Col xs={24} sm={8} md={8} lg={6} xl={6} style={{ \n          borderRight: '1px solid #f0f0f0',\n          backgroundColor: 'white',\n          height: '100%'\n        }}>\n          <MatchList\n            matches={matches}\n            onSelectMatch={handleSelectMatch}\n            selectedMatchId={selectedMatchId}\n          />\n        </Col>\n        <Col xs={0} sm={16} md={16} lg={18} xl={18} style={{ height: '100%' }}>\n          <ChatBox\n            conversation={conversation}\n            messages={messages}\n            currentUserId={currentUserId}\n            onSendMessage={handleSendMessage}\n            onTyping={handleTyping}\n            isTyping={isTyping}\n          />\n        </Col>\n      </Row>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}